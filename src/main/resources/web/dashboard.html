<html>

<head>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <ul class="navbar-nav">
        <li class="nav-item active">
            <a class="nav-link" href="/dashboard">Dashboard</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/templates">Templates</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/servers">Servers</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/logs">Logs</a>
        </li>
    </ul>

</nav>

<div class="container" style="margin-top: 50px">

    <h1>Dashboard</h1>

    {{if warning}}
    <div class="alert alert-warning">
        <strong>Warning!</strong> {{message}}
    </div>
    {{end}}


    {{if success}}
    <div class="alert alert-success">
        <strong>Status</strong> {{message}}
    </div>
    {{end}}




    <div class="card-columns">
        <div class="card bg-info">
            <div class="card-title text-center">
                Online Servers
            </div>
            <div class="card-body text-center">
                <p class="card-text">{{gameservers_size}}</p>
            </div>
        </div>
        <div class="card bg-info">
            <div class="card-title text-center">
                Templates
            </div>
            <div class="card-body text-center">
                <p class="card-text">{{templates_size}}</p>
            </div>
        </div>
        <div class="card bg-info">
            <div class="card-title text-center">
                Total Logins
            </div>
            <div class="card-body text-center">
                <p class="card-text">0</p>
            </div>
        </div>
    </div>

    <div>
        <canvas id="playerChart"></canvas>
    </div>

</div>


</body>


<script>
    const ctx=document.getElementById('playerChart');
    new Chart(ctx, {
        type: 'line',
        data: {
          labels: [{{playerchart_labels}}],
          datasets: [{
            label: '# Players',
            data: [{{playerchart_data}}],
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
</script>
</html>